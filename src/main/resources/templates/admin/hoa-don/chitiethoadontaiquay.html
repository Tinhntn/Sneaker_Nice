<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/main.html}">

<body>
    <div layout:fragment="content">
        <!-- Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng n·∫øu c√≥ -->
        <script th:if="${success != null}" th:inline="javascript">
            /*<![CDATA[*/
            Swal.fire({
                icon: 'success',
                title: 'Th√†nh c√¥ng',
                text: '[[${success}]]',
                position: 'center',
                timer: 3000,
                timerProgressBar: true,
                showConfirmButton: false
            });
            /*]]>*/
        </script>

        <!-- Hi·ªÉn th·ªã th√¥ng b√°o l·ªói n·∫øu c√≥ -->
        <script th:if="${error != null}" th:inline="javascript">
            /*<![CDATA[*/
            Swal.fire({
                icon: 'error',
                title: 'L·ªói',
                text: '[[${error}]]',
                position: 'center',
                timer: 3000,
                timerProgressBar: true,
                showConfirmButton: false
            });
            /*]]>*/
        </script>

        <!-- Hi·ªÉn th·ªã c·∫£nh b√°o n·∫øu c√≥ -->
        <script th:if="${warning != null}" th:inline="javascript">
            /*<![CDATA[*/
            Swal.fire({
                icon: 'warning',
                title: 'L∆∞u √Ω',
                text: '[[${warning}]]',
                position: 'center',
                timer: 3000,
                timerProgressBar: true,
                showConfirmButton: false
            });
            /*]]>*/
        </script>



        <div class="container mt-5">
            <div class="invoice-box">
                <h2 class="text-center mb-4 text-uppercase">Chi ti·∫øt h√≥a ƒë∆°n</h2>

                <div class="row mb-3">
                    <div class="col-md-4"><span class="label-title">M√£ h√≥a ƒë∆°n:</span></div>
                    <div class="col-md-8"><span class="value-text" th:text="${hd.maHoaDon}"></span></div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-4"><span class="label-title">Nh√¢n vi√™n:</span></div>
                    <div class="col-md-8"><span class="value-text" th:text="${hd.idNhanVien.hoVaTen}"></span></div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-4"><span class="label-title">Kh√°ch h√†ng:</span></div>
                    <div class="col-md-8"><span class="value-text"
                            th:text="${hd.idKhachHang != null ? hd.idKhachHang.tenKhachHang : 'Kh√°ch l·∫ª'}"></span></div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-4"><span class="label-title">Ng√†y t·∫°o:</span></div>
                    <div class="col-md-8"><span class="value-text" th:text="${hd.ngayTao}"></span></div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-4"><span class="label-title">Tr·∫°ng th√°i:</span></div>
                    <div class="col-md-8">
                        <span class="badge"
                            th:classappend="${hd.trangThai == 1} ? 'bg-success' : 'bg-warning text-dark'"
                            th:text="${hd.trangThai == 1 ? 'ƒê√£ thanh to√°n' : 'Ch∆∞a thanh to√°n'}"></span>
                    </div>
                </div>

                <hr>

                <div class="row mb-3">
                    <div class="col-md-4"><span class="label-title">T·ªïng ti·ªÅn h√†ng:</span></div>
                    <div class="col-md-8"><span class="value-text"
                            th:text="${#numbers.formatDecimal(hd.tongTien, 0, 'COMMA', 0, 'POINT') + ' ƒë'}"></span>
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-4"><span class="label-title">Gi·∫£m gi√°:</span></div>
                    <div class="col-md-8"><span class="value-text"
                            th:text="${hd.tongTienGiam != null ? #numbers.formatDecimal(hd.tongTienGiam, 0, 'COMMA', 0, 'POINT') + ' ƒë' : '0 ƒë'}"></span>
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-4"><span class="label-title">T·ªïng thanh to√°n:</span></div>
                    <div class="col-md-8"><strong class="text-success"
                            th:text="${#numbers.formatDecimal(hd.thanhTien, 0, 'COMMA', 0, 'POINT') + ' ƒë'}"></strong>
                    </div>
                </div>

                <!-- N·∫øu c√≥ danh s√°ch s·∫£n ph·∫©m -->
                <div class="mt-5">
                    <div class="section-title">Danh s√°ch s·∫£n ph·∫©m</div>
                    <table class="table table-bordered table-hover text-center">
                        <thead style="background-color: #ddbc7e; color: white;">

                            <tr>
                                <th>T√™n s·∫£n ph·∫©m</th>
                                <th>H√¨nh ·∫£nh</th>
                                <th>T√™n h√£ng</th>
                                <th>T√™n size</th>
                                <th>M√†u s·∫Øc</th>
                                <th>T√™n danh m·ª•c</th>
                                <th>T√™n ch·∫•t li·ªáu</th>
                                <th>S·ªë l∆∞·ª£ng</th>
                                <th>ƒê∆°n gi√°</th>
                                <th>T·ªïng ti·ªÅn</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="hdct : ${hdct}">
                                <td th:text="${hdct.idChiTietSanPham.idSanPham.tenSanPham}"></td>
                                <td><img th:src="${hdct.idChiTietSanPham.hinhAnh}" alt="H√¨nh ·∫£nh"
                                        style="width:50px;height:50px;"></td>
                                <td th:text="${hdct.idChiTietSanPham.idSanPham.idHang.tenHang}"></td>
                                <td th:text="${hdct.idChiTietSanPham.idSize.tenSize}"></td>
                                <td th:text="${hdct.idChiTietSanPham.idMauSac.tenMauSac}"></td>
                                <td th:text="${hdct.idChiTietSanPham.idSanPham.idDanhMuc.tenDanhMuc}"></td>
                                <td th:text="${hdct.idChiTietSanPham.idSanPham.idChatLieu.tenChatLieu}"></td>
                                <td th:text="${hdct.soLuong}"></td>
                                <td th:text="${#numbers.formatDecimal(hdct.donGia, 0, 'COMMA', 0, 'POINT')} + ' ƒë'">
                                </td>
                                <td
                                    th:text="${#numbers.formatDecimal(hdct.soLuong * hdct.donGia, 0, 'COMMA', 0, 'POINT')} + ' ƒë'">
                                </td>

                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="mt-4 text-end">
                    <a href="/hoadontaiquay/hienthi" class="btn btn-secondary">
                        <i class="fas fa-arrow-left"></i> Quay l·∫°i
                    </a>
                    <a th:href="@{'/banhangtaiquay/in/' + ${hd.id}}" class="btn btn-primary" target="_blank">
                        üìÑ In H√≥a ƒê∆°n (PDF)
                    </a>
                </div>
            </div>
        </div>
    </div>




</body>

</html>